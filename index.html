import React, { useState, useEffect, useRef } from 'react';
import { Shield, Lock, Activity, Cpu, Menu, X, ArrowRight, Zap, ChevronDown, Network, BrainCircuit, BarChart, Server, Globe, Database } from 'lucide-react';

/**
 * UTILITY: Session Storage Check for Intro
 */
const hasSeenIntro = () => {
  if (typeof window !== 'undefined') {
    return sessionStorage.getItem('ccp_intro_seen_final') === 'true';
  }
  return false;
};

/**
 * COMPONENT: Custom Star Logo (The Flash)
 */
const StarLogo = ({ className = "w-6 h-6", color = "text-neutral-900" }) => (
  <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" className={className}>
    <path 
      d="M50 0C50 0 55 35 95 50C55 65 50 100 50 100C50 100 45 65 5 50C45 35 50 0 50 0Z" 
      fill="currentColor" 
      className={color} 
    />
    <circle cx="50" cy="50" r="5" fill="currentColor" className={`${color} opacity-50`} />
  </svg>
);

/**
 * COMPONENT: Opening Sequence (Cinematic)
 */
const OpeningSequence = ({ onComplete }) => {
  const [step, setStep] = useState(0);
  const [shouldRender, setShouldRender] = useState(!hasSeenIntro());

  useEffect(() => {
    if (!shouldRender) {
      onComplete();
      return;
    }

    const t1 = setTimeout(() => setStep(1), 500);
    const t2 = setTimeout(() => setStep(2), 2200);
    const t3 = setTimeout(() => {
      sessionStorage.setItem('ccp_intro_seen_final', 'true');
      onComplete();
      setShouldRender(false);
    }, 3000);

    return () => { clearTimeout(t1); clearTimeout(t2); clearTimeout(t3); };
  }, [shouldRender, onComplete]);

  if (!shouldRender) return null;

  return (
    <div 
      className={`fixed inset-0 z-[200] flex items-center justify-center bg-[#050505] transition-transform duration-[1.2s] ease-[0.22, 1, 0.36, 1] ${
        step === 2 ? '-translate-y-full' : 'translate-y-0'
      }`}
    >
      <div className={`flex flex-col items-center gap-8 transition-all duration-1000 ${step >= 1 ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`}>
        <div className="relative animate-pulse">
           <StarLogo className="w-16 h-16" color="text-white" />
           <div className="absolute inset-0 bg-white/20 blur-xl rounded-full"></div>
        </div>
        
        <div className="text-center overflow-hidden">
          <p className="text-white font-serif tracking-[0.3em] text-[10px] uppercase whitespace-nowrap">
            Credit Capital Partners
          </p>
          <div className="h-[1px] w-0 bg-white/50 mt-4 mx-auto transition-all duration-1000 delay-500" style={{ width: step >= 1 ? '100%' : '0px' }}></div>
        </div>
      </div>
    </div>
  );
};

/**
 * COMPONENT: Reveal On Scroll
 */
const RevealOnScroll = ({ children, delay = 0, y = 30 }) => {
  const [isVisible, setIsVisible] = useState(false);
  const ref = useRef(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
          observer.unobserve(entry.target);
        }
      },
      { threshold: 0.1 }
    );
    if (ref.current) observer.observe(ref.current);
    return () => { if (ref.current) observer.unobserve(ref.current); };
  }, []);

  return (
    <div
      ref={ref}
      className={`transition-all duration-[1.2s] ease-[0.22, 1, 0.36, 1] transform ${
        isVisible ? 'opacity-100 translate-y-0' : 'opacity-0'
      }`}
      style={{ 
        transform: isVisible ? 'translateY(0)' : `translateY(${y}px)`,
        transitionDelay: `${delay}ms` 
      }}
    >
      {children}
    </div>
  );
};

/**
 * COMPONENT: Hero Core (Animated 3D Object)
 */
const HeroCore = () => {
  return (
    <div className="relative w-40 h-40 md:w-64 md:h-64 mx-auto perspective-1000 pointer-events-none select-none">
      <div className="absolute inset-0 border border-neutral-200 rounded-full animate-[spin_20s_linear_infinite] opacity-40"></div>
      <div className="absolute inset-4 border border-dashed border-neutral-300 rounded-full animate-[spin_15s_linear_infinite_reverse] opacity-60"></div>
      <div className="absolute inset-0 flex items-center justify-center">
        <div className="relative w-16 h-16 md:w-24 md:h-24 preserve-3d animate-[spin_10s_linear_infinite]">
           <div className="absolute inset-0 border border-neutral-900/20 bg-white/10 backdrop-blur-sm transform translate-z-12"></div>
           <div className="absolute inset-0 border border-neutral-900/20 bg-white/10 backdrop-blur-sm transform rotate-y-90 translate-z-12"></div>
           <div className="absolute inset-0 border border-neutral-900/20 bg-white/10 backdrop-blur-sm transform rotate-x-90 translate-z-12"></div>
           <div className="absolute top-1/2 left-1/2 w-2 h-2 bg-neutral-900 rounded-full shadow-[0_0_15px_rgba(0,0,0,0.5)] -translate-x-1/2 -translate-y-1/2 animate-pulse"></div>
        </div>
      </div>
    </div>
  );
};

/**
 * COMPONENT: Live Chart (Canvas)
 */
const LiveChart = () => {
  const canvasRef = useRef(null);

  useEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    let animationId;
    let dataPoints = [];
    const maxPoints = 80;
    
    for (let i = 0; i < maxPoints; i++) {
      dataPoints.push(50 + Math.random() * 10);
    }

    const draw = () => {
      if (!canvas) return;
      if (canvas.width !== canvas.offsetWidth) {
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;
      }
      const width = canvas.width;
      const height = canvas.height;
      const lastPoint = dataPoints[dataPoints.length - 1];
      const change = (Math.random() - 0.5) * 8;
      let newPoint = lastPoint + change;
      newPoint = Math.max(20, Math.min(80, newPoint));
      dataPoints.push(newPoint);
      if (dataPoints.length > maxPoints) dataPoints.shift();

      ctx.clearRect(0, 0, width, height);
      ctx.beginPath();
      const stepX = width / (maxPoints - 1);
      const gradient = ctx.createLinearGradient(0, 0, width, 0);
      gradient.addColorStop(0, "rgba(23, 23, 23, 0)");
      gradient.addColorStop(0.2, "rgba(23, 23, 23, 0.1)");
      gradient.addColorStop(0.8, "rgba(23, 23, 23, 0.8)");
      gradient.addColorStop(1, "rgba(23, 23, 23, 1)");

      for (let i = 0; i < dataPoints.length; i++) {
        const x = i * stepX;
        const y = height - (dataPoints[i] / 100) * height;
        if (i === 0) {
           ctx.moveTo(x, y);
        } else {
           const prevX = (i - 1) * stepX;
           const prevY = height - (dataPoints[i - 1] / 100) * height;
           const cx = (prevX + x) / 2;
           ctx.quadraticCurveTo(prevX, prevY, cx, (prevY + y) / 2);
           if (i === dataPoints.length - 1) ctx.lineTo(x, y);
        }
      }
      ctx.lineWidth = 2;
      ctx.strokeStyle = gradient;
      ctx.stroke();

      const lastX = (dataPoints.length - 1) * stepX;
      const lastY = height - (dataPoints[dataPoints.length - 1] / 100) * height;
      ctx.beginPath();
      ctx.arc(lastX, lastY, 3, 0, Math.PI * 2);
      ctx.fillStyle = "#171717";
      ctx.fill();
      
      ctx.beginPath();
      ctx.arc(lastX, lastY, 12, 0, Math.PI * 2);
      ctx.strokeStyle = "rgba(23, 23, 23, 0.1)";
      ctx.stroke();

      setTimeout(() => {
        animationId = requestAnimationFrame(draw);
      }, 40); 
    };
    draw();
    return () => cancelAnimationFrame(animationId);
  }, []);

  return <canvas ref={canvasRef} className="w-full h-full" />;
};

/* --- LEGAL CONTENTS --- */

const PrivacyContent = () => (
  <div className="space-y-16">
    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">1. Information Collection and Retention</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            Credit Capital Partners (hereinafter referred to as "the Firm") rigorously collects and maintains highly sensitive information, including but not limited to client identity, contact details, financial standing, and KYC (Know Your Customer) documentation during the license issuance and vetting process. The acquisition of such data is executed strictly through lawful and equitable means.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            Credit Capital Partners（以下「当社」）は、ライセンス発行の審査および適合性評価において、クライアントの氏名、連絡先、資産状況、およびKYC（顧客確認）書類を含む厳秘性の高い情報を適法かつ公正な手段によって収集・保管します。情報の取得は、常に法令を遵守したプロセスを経て実行されます。
         </p>
      </div>
    </section>

    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">2. Purpose of Processing and Utilization</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            The collected data is strictly utilized for the evaluation of algorithmic suitability, provisioning of secure dedicated accounts, issuance of performance analytics, and fulfillment of statutory obligations such as Anti-Money Laundering (AML) and Counter-Terrorist Financing (CTF) directives. The Firm categorically prohibits the utilization of client data for unrelated commercial marketing purposes.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            収集されたデータは、アルゴリズムの適合性評価、専用セキュアアカウントの発行、パフォーマンス分析の提供、およびマネーロンダリング防止（AML）やテロ資金供与対策（CTF）等の法的義務の遂行という厳格な目的のためにのみ使用されます。マーケティング等の無関係な商業目的での利用は一切行いません。
         </p>
      </div>
    </section>

    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">3. Enterprise-Grade Security Architecture</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            To safeguard client confidentiality, the Firm deploys institutional-grade security protocols, including end-to-end encryption, multi-factor authentication (MFA), and stringent physical and logical access controls. Access to proprietary data is restricted exclusively to authorized personnel essential for operational continuity.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            当社は、クライアント情報を保護するため、機関投資家・金融機関と同等水準のエンドツーエンド暗号化通信、多要素認証（MFA）、および物理的・論理的アクセス制限を実施しています。情報へのアクセスは、業務継続に必要不可欠な一部の権限保持者のみに厳格に限定されます。
         </p>
      </div>
    </section>

    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">4. Strict Non-Disclosure to Third Parties</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            Under no circumstances shall the Firm disclose, disseminate, or monetize client personal information to any third party without explicit prior consent, except where mandated by binding legal processes from recognized judicial or regulatory authorities, or in emergency situations to protect vital interests.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            法令に基づく司法機関や規制当局からの正式な開示要求、または生命・財産の保護のために緊急の必要がある場合を除き、当社がクライアントの事前の同意なく第三者に個人情報を提供、拡散、または収益化することはいかなる状況においても存在しません。
         </p>
      </div>
    </section>
  </div>
);

const TermsContent = () => (
  <div className="space-y-16">
    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">1. Nature of the License Agreement</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            This Terms of License agreement stipulates the conditions under which the Firm grants an exclusive, non-transferable right to utilize the "CCP PROPRIETARY" algorithmic system. This agreement constitutes a pure software and intellectual property licensing contract and shall not, under any circumstances, be construed as an investment management or advisory contract under the Financial Instruments and Exchange Act of Japan.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            本利用規約は、当社が独自開発したアルゴリズム・システム「CCP PROPRIETARY」の排他的かつ譲渡不能な利用権（ライセンス）を付与する条件を定めるものです。本契約は純粋なソフトウェアおよび知的財産の利用許諾契約であり、日本の金融商品取引法に基づく投資運用契約や投資助言契約として解釈されることは一切ありません。
         </p>
      </div>
    </section>

    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">2. Absolute Protection of Intellectual Property</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            All copyrights, patents, source codes, quantitative logics, predictive models, and associated documentation embedded within the System remain the exclusive intellectual property of the Firm. The Client is strictly prohibited from engaging in reverse engineering, decompilation, unauthorized duplication, or the creation of derivative works.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            本システムに組み込まれたすべての著作権、特許権、ソースコード、クオンツロジック、予測モデル、および関連ドキュメントに関する知的財産権は、完全に当社に帰属します。クライアントは、リバースエンジニアリング、逆コンパイル、無断複製、または二次的著作物の作成を行うことを固く禁じられます。
         </p>
      </div>
    </section>

    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">3. Perpetual Confidentiality Obligation</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            The Client assumes a rigorous obligation to maintain absolute confidentiality regarding the existence of the System, execution specifications, operational status, and any reporting metrics provided via the dashboard. This non-disclosure obligation shall survive the termination of the license agreement perpetually.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            クライアントは、本システムの存在、実行仕様、稼働状況、およびダッシュボード等を通じて提供される一切のレポート内容に関して、絶対的な守秘義務を負います。この機密保持義務は、ライセンス契約の終了後も永続的に存続するものとします。
         </p>
      </div>
    </section>

    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">4. Suspension, Termination, and Force Majeure</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            The Firm reserves the unilateral right to suspend or terminate the license immediately upon any breach of these terms. Furthermore, the Firm may halt system operations without prior notice due to extreme market volatility, infrastructural maintenance, or Force Majeure events beyond reasonable control.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            当社は、クライアントが本規約のいずれかに違反した場合、一方的にライセンスを即時停止または解除する権利を留保します。また、極端な市場変動、インフラの保守、または合理的な制御を超える不可抗力（Force Majeure）事象により、事前の予告なくシステムの稼働を一時停止することがあります。
         </p>
      </div>
    </section>
  </div>
);

const DisclaimerContent = () => (
  <div className="space-y-16">
    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">1. Non-Solicitation and Absence of Investment Advice</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            The materials and information presented on this platform are strictly for the purpose of outlining the functionalities of the "CCP PROPRIETARY" system and inviting qualified entities for licensing. None of the content herein constitutes an offer, solicitation, or recommendation to buy or sell any securities, nor does it qualify as investment advisory or asset management services under applicable jurisdictions.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            当プラットフォーム上のすべての資料および情報は、「CCP PROPRIETARY」システムの機能概要を示し、適格な対象者にライセンスを案内することのみを目的としています。いかなる内容も、有価証券の売買の勧誘、提案、推奨を構成するものではなく、適用される管轄区域における投資助言または資産運用サービスに該当するものではありません。
         </p>
      </div>
    </section>

    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">2. Inherent Market Risks and Complete Assumption of Risk</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            While the System is engineered leveraging advanced statistical arbitrage and computational sciences, financial markets possess inherent, non-deterministic risks. The Firm explicitly disclaims any guarantee of future absolute returns or principal preservation. All economic outcomes and risks associated with deploying the algorithmic license rest entirely with the Client.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            本システムは高度な統計的裁定取引と計算機科学を活用して構築されていますが、金融市場には非決定論的で内在的なリスクが存在します。当社は、将来の絶対的な収益や元本の保全をいかなる形でも保証しません。アルゴリズム・ライセンスの稼働に伴うすべての経済的結果およびリスクは、完全にクライアント自身に帰属します。
         </p>
      </div>
    </section>

    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">3. Limitations of Historical Data and Back-Testing</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            Simulated back-test results, hypothetical scenarios, and historical performance metrics displayed do not represent actual trading and are subject to hindsight bias. Past performance is definitively not indicative of future results, and actual execution may significantly diverge due to shifting liquidity regimes.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            表示されているシミュレーションによるバックテスト結果、仮想シナリオ、および過去のパフォーマンス指標は実際の取引を表すものではなく、後知恵バイアス（Hindsight Bias）の影響を受けます。過去の実績は将来の結果を示唆するものでは決してなく、流動性環境の変化により実際の執行結果は大きく乖離する可能性があります。
         </p>
      </div>
    </section>

    <section>
      <h3 className="text-sm md:text-base font-serif text-neutral-900 mb-6 tracking-widest uppercase border-b border-neutral-200 pb-2">4. Systemic Risks and Absolute Limitation of Liability</h3>
      <div className="space-y-4">
         <p className="text-neutral-800 text-xs md:text-sm leading-loose tracking-wide font-serif">
            The Firm shall bear zero legal or financial liability for direct, indirect, or derivative losses incurred as a result of exchange infrastructure failures, network latency spikes, sudden liquidity vacuums (Black Swan events), algorithm anomalies, or any other systemic disruptions. Execution relies entirely on the Client's independent discretion.
         </p>
         <p className="text-neutral-500 text-[10px] md:text-xs leading-relaxed tracking-widest font-light">
            取引所のインフラ障害、ネットワーク遅延の急増、突発的な流動性の枯渇（ブラックスワン・イベント）、アルゴリズムの異常、またはその他のシステミックな障害に起因して発生した直接的、間接的、または派生的な損失について、当社は法的および経済的な責任を一切負いません。執行は完全にクライアントの独立した判断に依存します。
         </p>
      </div>
    </section>
  </div>
);

const LegalDocument = ({ title, content, onBack }) => {
  return (
    <div className="min-h-screen bg-[#F8F8F8] pt-32 pb-40 animate-fade-in">
      <div className="max-w-4xl mx-auto px-6 md:px-12">
        <button 
          onClick={onBack} 
          className="group flex items-center gap-3 text-[10px] uppercase tracking-[0.25em] text-neutral-400 hover:text-neutral-900 transition-colors mb-16"
        >
           <ArrowRight size={14} className="rotate-180 group-hover:-translate-x-1 transition-transform" /> 
           Return to Portal
        </button>
        
        <div className="mb-20 border-b border-neutral-200 pb-8">
           <h1 className="text-3xl md:text-5xl font-serif text-neutral-900 tracking-tight">{title}</h1>
           <p className="text-[10px] text-neutral-400 font-mono mt-4 uppercase tracking-widest">Legal & Compliance | Last Updated: V4.0 Protocol</p>
        </div>

        <div className="prose-custom">
           {content}
        </div>
      </div>
    </div>
  );
};


/**
 * MAIN APP
 */
const App = () => {
  const [activePage, setActivePage] = useState('home'); // 'home', 'privacy', 'terms', 'disclaimer'
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [showModal, setShowModal] = useState(false);
  const tickerRef = useRef(null);

  // 一元化されたナビゲーションメニュー項目
  const navItems = ['Philosophy', 'Methodology', 'Architecture', 'Infrastructure', 'Membership'];

  useEffect(() => {
    if (isMenuOpen) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = 'unset';
    }
  }, [isMenuOpen]);

  useEffect(() => {
    const scriptId = 'tv-widget-script';
    if (!document.getElementById(scriptId) && tickerRef.current) {
      const script = document.createElement('script');
      script.id = scriptId;
      script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js';
      script.async = true;
      script.innerHTML = JSON.stringify({
        "symbols": [
          { "proName": "FOREXCOM:USDJPY", "title": "USD/JPY" },
          { "proName": "FX:EURUSD", "title": "EUR/USD" },
          { "proName": "BITSTAMP:BTCUSD", "title": "BTC/USD" },
          { "proName": "INDEX:NKY", "title": "Nikkei 225" },
          { "proName": "FOREXCOM:SPXUSD", "title": "S&P 500" }
        ],
        "showSymbolLogo": false,
        "colorTheme": "light",
        "isTransparent": true,
        "displayMode": "adaptive",
        "locale": "ja"
      });
      tickerRef.current.appendChild(script);
    }
  }, [activePage]);

  const navigateTo = (page) => {
    setActivePage(page);
    setIsMenuOpen(false);
    window.scrollTo(0, 0);
  };

  return (
    <div className="min-h-screen bg-[#F8F8F8] text-neutral-900 font-sans selection:bg-neutral-900 selection:text-white overflow-x-hidden relative">
      
      {/* 0. OPENING SEQUENCE */}
      {activePage === 'home' && <OpeningSequence onComplete={() => {}} />}

      {/* 1. NOISE TEXTURE */}
      <div className="fixed inset-0 pointer-events-none opacity-[0.03] z-[90] mix-blend-multiply" 
           style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")` }}>
      </div>

      {/* --- NAVIGATION --- */}
      {/* z-indexを最上位手前(z-50)に設定 */}
      <nav className={`fixed top-0 w-full z-50 transition-all duration-500 ${isMenuOpen ? 'bg-transparent' : 'bg-white/90 backdrop-blur-xl border-b border-neutral-200/50'} py-4`}>
        <div className="max-w-7xl mx-auto px-6 flex justify-between items-center relative gap-4">
          
          {/* Logo Section - widthを固定して縮まらないようにする */}
          <div onClick={() => navigateTo('home')} className={`flex items-center gap-3 group cursor-pointer z-50 transition-opacity duration-300 shrink-0 ${isMenuOpen ? 'opacity-0' : 'opacity-100'}`}>
            <StarLogo className="w-5 h-5 md:w-6 md:h-6" color="text-neutral-900" />
            <span className="text-[10px] md:text-xs tracking-[0.2em] font-serif text-neutral-900 uppercase font-bold whitespace-nowrap">
              Credit Capital Partners
            </span>
          </div>

          {/* Desktop Menu - 文字被りを防ぐためxlブレークポイントで表示 */}
          <div className="hidden xl:flex items-center gap-8 shrink-0">
            {navItems.map((item) => (
              <a 
                key={item} 
                href={`#${item.toLowerCase()}`}
                onClick={(e) => {
                   if (activePage !== 'home') {
                      e.preventDefault();
                      navigateTo('home');
                      setTimeout(() => {
                         document.getElementById(item.toLowerCase())?.scrollIntoView({ behavior: 'smooth' });
                      }, 100);
                   }
                }}
                className="relative text-[9px] uppercase tracking-[0.3em] text-neutral-500 hover:text-neutral-900 transition-colors duration-300 font-medium group py-2 whitespace-nowrap"
              >
                {item}
                <span className="absolute bottom-0 left-0 w-0 h-[1px] bg-neutral-900 transition-all duration-500 group-hover:w-full"></span>
              </a>
            ))}
            <button 
              onClick={() => setShowModal(true)}
              className="ml-4 px-6 py-2 border-[0.5px] border-neutral-300 text-neutral-900 text-[9px] uppercase tracking-[0.25em] hover:bg-neutral-900 hover:text-white transition-all duration-500 hover:shadow-lg whitespace-nowrap"
            >
              Client Login
            </button>
          </div>

          <button 
            className="xl:hidden text-neutral-900 z-50 p-2" 
            onClick={() => setIsMenuOpen(!isMenuOpen)}
            aria-label="Toggle Menu"
          >
            {isMenuOpen ? <X size={24} /> : <Menu size={24} />}
          </button>
        </div>
      </nav>

      {/* --- MOBILE MENU OVERLAY (完全に独立した階層のz-100) --- */}
      <div className={`fixed inset-0 z-[100] bg-neutral-50 flex flex-col transition-all duration-500 ease-[0.22, 1, 0.36, 1] ${isMenuOpen ? 'translate-y-0 opacity-100 visible' : '-translate-y-full opacity-0 invisible'}`}>
          {/* Mobile Menu Header inside the overlay */}
          <div className="w-full flex justify-between items-center px-6 py-4 border-b border-neutral-200/50">
             <div className="flex items-center gap-3" onClick={() => navigateTo('home')}>
                 <StarLogo className="w-5 h-5" color="text-neutral-900" />
                 <span className="text-[10px] tracking-[0.2em] font-serif text-neutral-900 uppercase font-bold">Credit Capital</span>
             </div>
             <button onClick={() => setIsMenuOpen(false)} className="p-2 text-neutral-900">
                 <X size={24} />
             </button>
          </div>

          <div className="flex-1 flex flex-col justify-center px-8 pb-20">
            <div className="flex flex-col gap-6 mb-12">
              {navItems.map((item, i) => (
                <a 
                  key={item} 
                  href={`#${item.toLowerCase()}`} 
                  onClick={(e) => {
                     if (activePage !== 'home') {
                        e.preventDefault();
                        navigateTo('home');
                        setTimeout(() => {
                           document.getElementById(item.toLowerCase())?.scrollIntoView({ behavior: 'smooth' });
                        }, 100);
                     } else {
                        setIsMenuOpen(false);
                     }
                  }}
                  className="group flex items-center justify-between border-b border-neutral-200 pb-4"
                  style={{ transitionDelay: `${i * 80}ms` }}
                >
                  <span className="text-xl font-serif text-neutral-900 tracking-widest group-hover:pl-4 transition-all duration-300">
                    {item}
                  </span>
                  <ArrowRight size={16} className="text-neutral-300 group-hover:text-neutral-900 transition-colors" />
                </a>
              ))}
            </div>

            <button 
              onClick={() => {
                setIsMenuOpen(false);
                setTimeout(() => setShowModal(true), 300); // 閉じた後にモーダルを開く
              }}
              className="w-full py-5 border border-neutral-900 bg-white text-neutral-900 text-xs uppercase tracking-[0.3em] hover:bg-neutral-900 hover:text-white transition-all shadow-sm"
            >
              Client Login
            </button>
          </div>
      </div>

      {/* --- CONTENT ROUTING --- */}
      {activePage === 'home' ? (
        <>
          {/* --- HERO SECTION --- */}
          <section className="relative min-h-[100dvh] flex flex-col items-center justify-center overflow-hidden pb-20 pt-24">
            
            {/* BACKGROUND: Architecture + Gradient */}
            <div className="absolute inset-0 z-0">
               <div className="absolute inset-0 opacity-[0.12] mix-blend-multiply pointer-events-none">
                  <img 
                    src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop" 
                    alt="Structure" 
                    className="w-full h-full object-cover grayscale contrast-125"
                  />
                  <div className="absolute inset-0 bg-gradient-to-t from-[#F8F8F8] via-transparent to-[#F8F8F8]"></div>
                  <div className="absolute inset-0 bg-gradient-to-r from-[#F8F8F8] via-transparent to-[#F8F8F8]"></div>
               </div>

               <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] md:w-[800px] md:h-[800px] bg-gradient-to-tr from-blue-50/30 via-purple-50/20 to-amber-50/30 rounded-full blur-[100px] animate-pulse opacity-60"></div>
               <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03]"></div>
            </div>

            <div className="relative z-10 w-full max-w-7xl mx-auto px-6 text-center">
              
              <RevealOnScroll delay={hasSeenIntro() ? 0 : 3000}>
                 <div className="mb-8 md:mb-12">
                   <HeroCore />
                 </div>
              </RevealOnScroll>
              
              <RevealOnScroll delay={hasSeenIntro() ? 100 : 3200}>
                <div className="mb-8 md:mb-12">
                  <h1 className="flex flex-col items-center font-serif text-neutral-900 leading-none">
                    <span className="text-[2rem] md:text-7xl lg:text-[6rem] tracking-tight block mb-2 md:mb-4">THE LOGIC OF</span>
                    <span className="text-[3rem] md:text-9xl lg:text-[10rem] tracking-tighter block italic font-light text-neutral-300 mix-blend-multiply">
                      THE 0.1%
                    </span>
                  </h1>
                </div>
              </RevealOnScroll>
              
              <RevealOnScroll delay={hasSeenIntro() ? 300 : 3600}>
                <div className="flex flex-col items-center gap-10">
                  <div className="inline-flex flex-col items-center gap-3 border-y border-neutral-200 py-6 px-8 bg-white/60 backdrop-blur-sm mx-4 md:mx-0 shadow-sm">
                    <div className="flex items-center gap-2">
                       <div className="w-1.5 h-1.5 bg-neutral-900 rounded-full animate-pulse"></div>
                       <span className="text-[9px] font-mono tracking-widest text-neutral-500 uppercase">Systematic Alpha Architecture</span>
                    </div>
                    <p className="text-neutral-600 text-[10px] md:text-xs tracking-[0.15em] font-light text-center">
                      市場の歪みを捕捉する、非公開アルゴリズム・ライセンス。
                    </p>
                  </div>

                  <button 
                    onClick={() => setShowModal(true)}
                    className="group relative px-12 py-5 bg-neutral-900 text-white text-[10px] font-bold uppercase tracking-[0.3em] overflow-hidden transition-all shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:shadow-[0_25px_50px_rgba(0,0,0,0.25)] hover:-translate-y-1 rounded-sm"
                  >
                    <span className="relative z-10 flex items-center gap-3">
                      Enter Private Portal
                      <ArrowRight size={14} className="group-hover:translate-x-1 transition-transform duration-300" />
                    </span>
                    <div className="absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-500"></div>
                  </button>
                </div>
              </RevealOnScroll>
            </div>

            <div className="absolute bottom-16 md:bottom-20 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 animate-bounce opacity-40">
               <span className="text-[9px] uppercase tracking-widest text-neutral-400">Scroll</span>
               <ChevronDown size={16} className="text-neutral-400" />
            </div>
          </section>

          {/* --- PHILOSOPHY --- */}
          <section id="philosophy" className="py-24 md:py-40 relative">
            <div className="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-12 gap-12 md:gap-16 items-center">
              
              <div className="md:col-span-5 order-2 md:order-1">
                <RevealOnScroll>
                  <h2 className="text-3xl md:text-4xl font-serif text-neutral-900 mb-8 leading-tight">
                    Discipline <br/>
                    <span className="text-neutral-300 italic">& Aesthetics</span>
                  </h2>
                  <div className="w-12 h-[1px] bg-neutral-900 mb-8"></div>
                </RevealOnScroll>
                
                <RevealOnScroll delay={200}>
                  <p className="text-neutral-500 leading-loose text-xs tracking-wide font-light mb-8 text-justify">
                    市場において、一般的なアプローチが通用しないことは歴史が証明しています。
                    我々が提供するのは、不確実な「予測」ではなく、徹底的に検証された「ロジック」です。
                  </p>
                  <p className="text-neutral-500 leading-loose text-xs tracking-wide font-light text-justify">
                    外資系投資銀行で培った冷徹なまでの数字へのこだわりと、独自の統計モデル。
                    これらを融合させ、選ばれた個人のための次世代金融インフラを構築しました。
                  </p>
                </RevealOnScroll>
              </div>
              
              <div className="md:col-span-1"></div>

              <div className="md:col-span-6 order-1 md:order-2">
                 <RevealOnScroll delay={300}>
                    <div className="relative aspect-square bg-gradient-to-b from-white to-neutral-50 border border-white shadow-[0_20px_40px_rgba(0,0,0,0.05)] flex items-center justify-center overflow-hidden">
                       <div className="absolute top-0 right-0 p-6">
                          <Cpu size={20} className="text-neutral-200" strokeWidth={1} />
                       </div>
                       <div className="w-32 h-32 md:w-48 md:h-48 border border-neutral-900/10 rotate-45 flex items-center justify-center animate-[spin_30s_linear_infinite]">
                          <div className="w-[80%] h-[80%] border border-neutral-900/10 rotate-45"></div>
                          <div className="absolute inset-0 bg-neutral-900/5 blur-xl rounded-full"></div>
                       </div>
                       <div className="absolute bottom-8 left-8">
                          <p className="text-[9px] uppercase tracking-widest text-neutral-400">Architecture</p>
                          <p className="text-lg font-serif text-neutral-900">GENESIS BLOCK</p>
                       </div>
                    </div>
                 </RevealOnScroll>
              </div>
            </div>
          </section>

          {/* --- CORE METHODOLOGY --- */}
          <section id="methodology" className="py-24 md:py-40 bg-[#111] text-white relative overflow-hidden">
            <div className="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
            <div className="max-w-7xl mx-auto px-6 relative z-10">
              <RevealOnScroll>
                <div className="flex flex-col md:flex-row justify-between items-end mb-16 md:mb-24 border-b border-neutral-800 pb-6">
                  <h2 className="text-3xl font-serif text-white">Core Methodology</h2>
                  <span className="text-neutral-500 text-[9px] uppercase tracking-[0.4em] mt-4 md:mt-0">Algorithmic Edge</span>
                </div>
              </RevealOnScroll>

              <div className="grid grid-cols-1 md:grid-cols-3 gap-12 md:gap-16">
                {[
                  { icon: Network, title: "Statistical Arbitrage", desc: "膨大なヒストリカル・データセットを解析し、短期的な価格の歪み（Mean Reversion）を高精度で捕捉。市場の方向性に依存しない絶対収益を追求します。" },
                  { icon: BrainCircuit, title: "Adaptive Machine Learning", desc: "深層学習アルゴリズムが市場のレジームチェンジをリアルタイムで検知。動的なパラメータ最適化により、未知のボラティリティに対しても堅牢なパフォーマンスを維持します。" },
                  { icon: BarChart, title: "Dynamic Risk Parity", desc: "各ポジション間の相関マトリックスを常時監視し、ポートフォリオ全体のリスク許容度をミリ秒単位で調整。テールリスクを極限まで排除します。" }
                ].map((feature, i) => (
                  <RevealOnScroll key={i} delay={i * 150}>
                    <div className="group h-full flex flex-col items-start">
                      <div className="w-12 h-12 border border-neutral-700 flex items-center justify-center mb-6 group-hover:bg-white group-hover:text-neutral-900 transition-colors duration-500">
                         <feature.icon size={20} strokeWidth={1.5} />
                      </div>
                      <h3 className="text-lg font-serif text-white mb-4">{feature.title}</h3>
                      <p className="text-neutral-400 text-[10px] leading-relaxed tracking-wide text-justify">
                        {feature.desc}
                      </p>
                    </div>
                  </RevealOnScroll>
                ))}
              </div>
            </div>
          </section>

          {/* --- SYSTEM ARCHITECTURE --- */}
          <section id="architecture" className="py-24 md:py-40 bg-neutral-100/50 relative">
            <div className="max-w-7xl mx-auto px-6">
              <RevealOnScroll>
                <div className="flex flex-col md:flex-row justify-between items-end mb-16 md:mb-24 border-b border-neutral-200 pb-6">
                  <h2 className="text-3xl font-serif text-neutral-900">System Architecture</h2>
                  <span className="text-neutral-400 text-[9px] uppercase tracking-[0.4em] mt-4 md:mt-0">Proprietary Technology</span>
                </div>
              </RevealOnScroll>

              <div className="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-12">
                {[
                  { icon: Cpu, title: "Quantitative Logic", desc: "感情や主観を排除した、統計学と計算機科学に基づくマーケット分析エンジン。" },
                  { icon: Activity, title: "High-Frequency", desc: "0.1秒以下の執行スピードによるスリッページ抑制機能。市場の歪みを瞬時に捉える。" },
                  { icon: Shield, title: "License Model", desc: "アルゴリズムの「利用権」を貸与する独自のライセンスモデル。資産管理を最適化。" }
                ].map((feature, i) => (
                  <RevealOnScroll key={i} delay={i * 150}>
                    <div className="bg-white p-8 md:p-10 border border-neutral-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-500 h-full flex flex-col justify-between">
                      <div>
                        <feature.icon className="w-6 h-6 text-neutral-900 mb-6 md:mb-8" strokeWidth={1.5} />
                        <h3 className="text-base font-serif text-neutral-900 mb-4">{feature.title}</h3>
                        <p className="text-neutral-500 text-[10px] leading-6 tracking-wide text-justify">
                          {feature.desc}
                        </p>
                      </div>
                    </div>
                  </RevealOnScroll>
                ))}
              </div>
            </div>
          </section>

          {/* --- GLOBAL INFRASTRUCTURE --- */}
          <section id="infrastructure" className="py-24 md:py-40 relative bg-white border-b border-neutral-100">
            <div className="max-w-7xl mx-auto px-6">
              <RevealOnScroll>
                <div className="text-center mb-16 md:mb-24">
                  <span className="text-neutral-400 text-[9px] uppercase tracking-[0.4em] block mb-4">Infrastructure</span>
                  <h2 className="text-3xl md:text-4xl font-serif text-neutral-900">Low Latency Grid</h2>
                </div>
              </RevealOnScroll>

              <div className="grid grid-cols-1 md:grid-cols-3 gap-12 text-center relative">
                 <div className="hidden md:block absolute top-12 left-[16.66%] right-[16.66%] h-[1px] bg-neutral-200 z-0"></div>

                {[
                  { icon: Server, location: "Tokyo (TY3)", type: "PRIMARY EXECUTION", desc: "JPXコロケーションエリア内での直接接続。マイクロ秒レベルのレイテンシで執行プロセスを最適化。" },
                  { icon: Database, location: "New York (NY4)", type: "DATA AGGREGATION", desc: "米国市場の流動性データをリアルタイムで集約・解析し、グローバルな相関ロジックの補正に利用。" },
                  { icon: Globe, location: "London (LD4)", type: "RISK HEDGING", desc: "欧州セッションのボラティリティを監視し、24時間体制のクロスボーダー・リスクヘッジを実行。" }
                ].map((infra, i) => (
                  <RevealOnScroll key={i} delay={i * 150}>
                    <div className="relative z-10 flex flex-col items-center bg-white px-4">
                      <div className="w-24 h-24 rounded-full border-[0.5px] border-neutral-300 flex items-center justify-center mb-8 bg-white relative group">
                         <infra.icon size={28} className="text-neutral-800 transition-transform duration-500 group-hover:scale-110" strokeWidth={1} />
                         <div className="absolute inset-0 border border-neutral-200 rounded-full animate-ping opacity-20"></div>
                      </div>
                      <h3 className="text-xl font-serif text-neutral-900 mb-2">{infra.location}</h3>
                      <p className="text-neutral-400 text-[9px] tracking-[0.2em] mb-4 uppercase">{infra.type}</p>
                      <p className="text-neutral-500 text-[10px] leading-relaxed max-w-xs mx-auto">
                        {infra.desc}
                      </p>
                    </div>
                  </RevealOnScroll>
                ))}
              </div>
            </div>
          </section>

          {/* --- DASHBOARD PREVIEW --- */}
          <section className="py-24 md:py-40 relative bg-neutral-50">
            <div className="max-w-7xl mx-auto px-6">
              <div className="flex flex-col md:flex-row gap-12 md:gap-20">
                <div className="w-full md:w-1/3 pt-0 md:pt-10">
                  <RevealOnScroll>
                    <span className="text-neutral-400 text-[9px] uppercase tracking-[0.4em] block mb-6">Exclusive View</span>
                    <h2 className="text-3xl font-serif text-neutral-900 mb-8">
                      Live Execution <br/> Monitor
                    </h2>
                    <p className="text-neutral-500 text-xs leading-7 tracking-wide mb-8 font-light text-justify">
                      ライセンスホルダーのみがアクセス可能な専用ダッシュボード。
                      システム稼働状況、最適化されたポジション推移、およびリスク指標をリアルタイムで監視します。
                    </p>
                    <div className="hidden md:block">
                      <ul className="space-y-6 mt-12 border-t border-neutral-200 pt-8">
                        {['Real-time Analytics', 'Monthly Report', 'Asset Optimization'].map((item, i) => (
                          <li key={i} className="flex items-center gap-4 text-[9px] uppercase tracking-widest text-neutral-800">
                            <div className="w-1 h-1 bg-neutral-900 rounded-full animate-pulse"></div>
                            {item}
                          </li>
                        ))}
                      </ul>
                    </div>
                  </RevealOnScroll>
                </div>

                <div className="w-full md:w-2/3 relative group">
                   <RevealOnScroll delay={300}>
                     <div className="relative bg-white border border-neutral-200 shadow-[0_30px_60px_rgba(0,0,0,0.08)] rounded-sm overflow-hidden p-1 transition-transform duration-700 group-hover:scale-[1.01]">
                       <div className="bg-[#FCFCFC] p-6 md:p-10 h-full">
                          <div className="flex justify-between items-center mb-10 border-b border-neutral-100 pb-4">
                            <span className="text-[9px] font-mono text-neutral-400">SYS_ID: 8829-X</span>
                            <div className="flex gap-2 items-center">
                               <Zap size={10} className="text-green-500 animate-pulse" />
                               <span className="text-[9px] font-mono text-neutral-400">ACTIVE</span>
                            </div>
                          </div>

                          <div className="mb-8">
                             <div className="flex justify-between items-end mb-4">
                                <p className="text-[9px] uppercase text-neutral-400 tracking-widest">Performance</p>
                                <span className="text-[9px] font-mono text-neutral-400 animate-pulse text-red-500">● LIVE</span>
                             </div>
                             <div className="h-48 md:h-64 w-full bg-white border border-neutral-100 relative overflow-hidden">
                                <LiveChart />
                                <div className="absolute inset-0 border-t border-neutral-50 top-1/4 pointer-events-none"></div>
                                <div className="absolute inset-0 border-t border-neutral-50 top-2/4 pointer-events-none"></div>
                                <div className="absolute inset-0 border-t border-neutral-50 top-3/4 pointer-events-none"></div>
                             </div>
                          </div>

                          <div className="grid grid-cols-2 md:grid-cols-3 gap-6 pt-4">
                            <div className="p-4 bg-white border border-neutral-100 rounded-sm">
                              <p className="text-[9px] text-neutral-400 mb-1 uppercase tracking-widest">Volatility</p>
                              <p className="text-lg font-serif text-neutral-900">LOW</p>
                            </div>
                            <div className="p-4 bg-white border border-neutral-100 rounded-sm">
                              <p className="text-[9px] text-neutral-400 mb-1 uppercase tracking-widest">Latency</p>
                              <p className="text-lg font-serif text-neutral-900">12ms</p>
                            </div>
                            <div className="p-4 bg-neutral-900 text-white rounded-sm hidden md:block">
                              <p className="text-[9px] text-neutral-400 mb-1 uppercase tracking-widest">Status</p>
                              <p className="text-lg font-serif">OPTIMAL</p>
                            </div>
                          </div>
                       </div>

                       <div className="absolute inset-0 bg-white/40 backdrop-blur-[4px] flex items-center justify-center transition-all duration-700 group-hover:backdrop-blur-none group-hover:bg-transparent pointer-events-none">
                          <div className="bg-neutral-900 text-white px-8 py-4 text-[9px] uppercase tracking-[0.3em] shadow-2xl transition-all duration-500 group-hover:opacity-0 group-hover:translate-y-4">
                            Member Access Only
                          </div>
                       </div>
                     </div>
                   </RevealOnScroll>
                </div>
              </div>
            </div>
          </section>

          {/* --- MEMBERSHIP FLOW (Fixed Layout) --- */}
          <section id="membership" className="py-24 md:py-40 bg-white relative border-t border-neutral-100">
            <div className="max-w-3xl mx-auto px-6">
              <RevealOnScroll>
                <div className="text-center mb-16 md:mb-24">
                  <h2 className="text-3xl font-serif text-neutral-900 mb-4">Membership Flow</h2>
                  <p className="text-[9px] uppercase tracking-widest text-neutral-400">Join the Circle</p>
                </div>
              </RevealOnScroll>
              
              <div className="space-y-4 relative">
                {[
                  { step: '01', title: 'Consultation', desc: '専属担当者による適合性面談' },
                  { step: '02', title: 'Agreement', desc: 'システム利用ライセンス契約の締結' },
                  { step: '03', title: 'Activation', desc: '専用アカウント発行とアルゴリズム稼働' }
                ].map((item, index) => (
                  <RevealOnScroll key={index} delay={index * 100}>
                    <div className="flex flex-col md:flex-row md:items-center border border-neutral-200 bg-[#FAFAFA] p-8 md:p-10 hover:shadow-lg transition-all duration-500">
                      <div className="text-sm font-mono text-neutral-300 mb-4 md:mb-0 md:w-24 md:shrink-0">
                        {item.step}
                      </div>
                      <div className="flex-1">
                        <h3 className="text-lg text-neutral-900 font-serif tracking-wide mb-2">{item.title}</h3>
                        <p className="text-neutral-500 text-[10px] tracking-wide leading-relaxed">{item.desc}</p>
                      </div>
                    </div>
                  </RevealOnScroll>
                ))}
              </div>

              <RevealOnScroll delay={400}>
                <div className="mt-24 md:mt-32 text-center">
                   <p className="text-neutral-400 text-[10px] mb-10 tracking-widest leading-loose">
                     現在、新規のライセンス発行は<br className="md:hidden"/>
                     <span className="text-neutral-900 border-b border-neutral-300 pb-0.5 mx-1">紹介制（Referral Only）</span>となっております。
                   </p>
                   <button 
                     onClick={() => setShowModal(true)}
                     className="px-12 py-5 border border-neutral-300 text-neutral-900 text-[9px] uppercase tracking-[0.25em] hover:bg-neutral-900 hover:text-white transition-all duration-300"
                   >
                     Request Waiting List
                   </button>
                </div>
              </RevealOnScroll>
            </div>
          </section>
        </>
      ) : (
        /* --- LEGAL DOCUMENTS PAGES --- */
        <>
          {activePage === 'privacy' && <LegalDocument title="Privacy Policy" content={<PrivacyContent />} onBack={() => navigateTo('home')} />}
          {activePage === 'terms' && <LegalDocument title="Terms of License" content={<TermsContent />} onBack={() => navigateTo('home')} />}
          {activePage === 'disclaimer' && <LegalDocument title="Disclaimer" content={<DisclaimerContent />} onBack={() => navigateTo('home')} />}
        </>
      )}

      {/* --- TICKER --- */}
      <div className="fixed bottom-0 left-0 w-full z-40 h-[40px] bg-white/95 backdrop-blur-md border-t border-neutral-200 pb-[env(safe-area-inset-bottom)] box-content">
        <div className="tradingview-widget-container h-full w-full opacity-90 hover:opacity-100 transition-opacity" ref={tickerRef}>
          <div className="tradingview-widget-container__widget h-full w-full"></div>
        </div>
      </div>

      {/* --- FOOTER --- */}
      <footer className="bg-white py-24 border-t border-neutral-100 text-neutral-400 text-[10px] mb-12 relative z-10">
        <div className="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12 md:gap-16 mb-16">
          <div className="col-span-1 md:col-span-2">
            <h4 className="text-neutral-900 text-sm font-serif mb-8 tracking-widest">Credit Capital Partners</h4>
            <p className="leading-relaxed mb-8 max-w-sm font-light text-neutral-500">
              Capitalizing on Intelligence.<br />
              The bridge between raw data and refined asset growth.
            </p>
          </div>
          <div className="space-y-6">
            <h5 className="text-neutral-900 uppercase tracking-widest mb-4">Contact</h5>
            <p className="tracking-wide leading-relaxed">
              Cerulean Tower<br />
              26-1 Sakuragaoka-cho<br />
              Shibuya-ku, Tokyo
            </p>
          </div>
          <div className="space-y-6">
             <h5 className="text-neutral-900 uppercase tracking-widest mb-4">Legal</h5>
             <p onClick={() => navigateTo('privacy')} className="hover:text-neutral-900 cursor-pointer transition-colors tracking-wide">Privacy Policy</p>
             <p onClick={() => navigateTo('terms')} className="hover:text-neutral-900 cursor-pointer transition-colors tracking-wide">Terms of License</p>
             <p onClick={() => navigateTo('disclaimer')} className="hover:text-neutral-900 cursor-pointer transition-colors tracking-wide">Disclaimer</p>
          </div>
        </div>
        <div className="max-w-7xl mx-auto px-6 border-t border-neutral-100 pt-10 flex flex-col md:flex-row justify-between items-start gap-8">
           <p className="tracking-widest">&copy; 2019-2026 Credit Capital Partners By SIGMA AGENCY LLC</p>
           <p className="text-neutral-300 text-justify md:w-1/2 leading-relaxed tracking-wide">
             【重要】当ウェブサイトは、独自開発システム「CCP PROPRIETARY」の機能紹介を目的としており、金融商品取引法に基づく投資助言・運用、勧誘を行うものではありません。
           </p>
        </div>
      </footer>

      {/* --- MODAL (Login) --- */}
      {showModal && (
        <div className="fixed inset-0 z-[110] flex items-center justify-center bg-[#FAFAFA]/90 backdrop-blur-md p-4 transition-all duration-500 animate-fade-in">
           <div className="bg-white border border-neutral-100 p-8 md:p-12 max-w-sm w-full relative shadow-[0_20px_40px_rgba(0,0,0,0.05)]">
             <button onClick={() => setShowModal(false)} className="absolute top-6 right-6 text-neutral-400 hover:text-black transition-colors">
               <X size={16} />
             </button>
             <div className="text-center mb-10">
               <Lock className="w-5 h-5 text-neutral-900 mx-auto mb-6" strokeWidth={1} />
               <h3 className="text-[10px] font-serif text-neutral-900 tracking-[0.2em] uppercase">Private Access</h3>
             </div>
             <form className="space-y-6">
               <div className="group">
                  <input type="text" placeholder="SECURE ID" className="w-full bg-transparent border-b border-neutral-200 py-3 text-neutral-900 text-[10px] tracking-[0.2em] placeholder:text-neutral-300 focus:outline-none focus:border-neutral-900 transition-colors" />
               </div>
               <div className="group">
                  <input type="password" placeholder="PASSWORD" className="w-full bg-transparent border-b border-neutral-200 py-3 text-neutral-900 text-[10px] tracking-[0.2em] placeholder:text-neutral-300 focus:outline-none focus:border-neutral-900 transition-colors" />
               </div>
               <button className="w-full bg-neutral-900 text-white py-4 text-[9px] uppercase font-bold tracking-[0.25em] mt-8 hover:bg-neutral-800 transition-all hover:shadow-lg" onClick={(e) => e.preventDefault()}>
                 Authenticate
               </button>
             </form>
           </div>
        </div>
      )}
    </div>
  );
};

export default App;
